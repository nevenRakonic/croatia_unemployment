<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Unemployment Croatia</title>
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.0/d3.min.js' charset='utf-8'></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/metrics-graphics/2.5.0/metricsgraphics.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/metrics-graphics/2.5.0/metricsgraphics.js">
  </script>

</head>
<body>
  <h1>Yo!!</h1>
  <div id="unemployed"></div>
  <div id="openings"></div>
</body>
</html>



<script>
  $(function() {

    var time_format = '%Y-%m-%dT%H:%M:%S.%LZ' // rails compatible time

    d3.json('/unemployed.json', function(data) {

        data = MG.convert.date(data, 'fetch_time', time_format);

        MG.data_graphic({
            title: "Broj nezaposlenih na HZZ",
            description: false,
            data: data,
            width: 600,
            height: 200,
            right: 40,
            target: document.getElementById('unemployed'),
            x_accessor: 'fetch_time',
            y_accessor: 'unemployed_people',
            min_y_from_data: true,
            linked: true
        });
    });

    d3.json('/openings.json', function(data) {

        data = MG.convert.date(data, 'fetch_time', time_format);

        MG.data_graphic({
            title: "Broj otvorenih radnih mjesta na HZZ",
            description: false,
            data: data,
            width: 600,
            height: 200,
            right: 40,
            target: document.getElementById('openings'),
            x_accessor: 'fetch_time',
            y_accessor: 'job_openings',
            min_y_from_data: true,
            linked: true
        });
    });

  });


</script>
